{% extends 'base.html' %}

{% block content %}
<div class="container">
<h1>Recent Listings</h1>
<div class="row">
    {% for listing in listings_page %}
    <div class="col-md-4">
        <div class="card">
            <img src="https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fHJlYWwlMjBlc3RhdGUlMjBwaG90b3N8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60"
                class="card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title">{{listing.title}}</h5>
                <ul class="list-unstyled">
                    <li><i class="fa fa-bed"></i> {{ listing.bedrooms }} Beds</li>
                    <li><i class="fa fa-bath"></i> {{ listing.bathrooms }} Baths</li>
                    <li><i class="fa fa-area"></i> {{ listing.square_feet }} sqft</li>
                    <li><i class="fa fa-cogs"></i> Family</li>
                </ul>
                <p class="card-text">Kshs {{ listing.price }}</p>
                <a href="{% url 'listing-details' id=listing.id %}" class="btn btn-dark">View Details</a>
    
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- Pagination links -->
<div class="pagination my-5">
    {% if listings_page.has_previous %}
    <a href="?page={{ listings_page.previous_page_number }}" class="text-decoration-none mx-3"><i class="fas fa-arrow-left"></i> Previous</i></a>
    {% endif %}

    <span class="current-page">{{ listings_page.number }}</span>

    {% if listings_page.has_next %}
    <a href="?page={{ listings_page.next_page_number }}" class="align-items-end">Next <i class="fas fa-arrow-right"></i></a>
    {% endif %}
</div>
</div>
{% endblock %}